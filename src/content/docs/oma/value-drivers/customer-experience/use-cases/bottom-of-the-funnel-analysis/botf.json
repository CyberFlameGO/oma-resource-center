{
  "name": "OMA - Customer Experience - Bottom of the Funnel Analysis",
  "description": null,
  "permissions": "PUBLIC_READ_WRITE",
  "pages": [
    {
      "name": "OMA - Customer Experience - Bottom of the Funnel Analysis",
      "description": null,
      "widgets": [
        {
          "visualization": {
            "id": "viz.markdown"
          },
          "layout": {
            "column": 1,
            "row": 1,
            "height": 3,
            "width": 2
          },
          "title": "",
          "rawConfiguration": {
            "text": "# Begin Checkout -> Confirm Order\n## Bottom of the Funnel Analysis\n"
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.funnel"
          },
          "layout": {
            "column": 3,
            "row": 1,
            "height": 3,
            "width": 6
          },
          "title": "Conversion Funnel",
          "rawConfiguration": {
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "SELECT funnel(username, WHERE pageUrl like '%shoppingcart%' AS 'Begin Checkout', WHERE pageUrl like '%checkout%' AS 'Order Confirmed') from PageView since 1 week ago"
              }
            ]
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.line"
          },
          "layout": {
            "column": 9,
            "row": 1,
            "height": 3,
            "width": 4
          },
          "title": "Failed Conversion Checks",
          "rawConfiguration": {
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "FROM SyntheticCheck select percentage(count(*),WHERE result = 'FAILED') where monitorName = 'Verify all APIs are working' since 1 week ago COMPARE WITH 1 week ago TIMESERIES AUTO"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 1,
            "row": 4,
            "height": 2,
            "width": 6
          },
          "title": "Revenue at Risk - Latency",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "SELECT count(*) * (6.2) AS USD FROM PageView, AjaxRequest  WHERE pageUrl LIKE '%shoppingcart%' AND  (timeToSettle > 2.0 OR backendDuration > 0.5) since 1 week ago compare with 1 week ago"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 7,
            "row": 4,
            "height": 2,
            "width": 6
          },
          "title": "Revenue at Risk - Errors",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "FROM AjaxRequest SELECT count(*) * 6.2 AS USD WHERE httpResponseCode >= 300 AND appName ='WebPortal' and pageUrl like '%shoppingcart%' SINCE 1 week AGO COMPARE WITH 1 week AGO"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.markdown"
          },
          "layout": {
            "column": 1,
            "row": 6,
            "height": 2,
            "width": 2
          },
          "title": "",
          "rawConfiguration": {
            "text": "# 1. Begin Checkout \n## Page Performance\n"
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 3,
            "row": 6,
            "height": 2,
            "width": 2
          },
          "title": "Begin Checkout TTFB",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "FROM PageView SELECT percentile(backendDuration, 75) AS 'TTFB' WHERE pageUrl LIKE '%shopping%' SINCE 1 WEEK AGO COMPARE WITH 1 WEEK AGO"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 5,
            "row": 6,
            "height": 2,
            "width": 2
          },
          "title": "Begin Checkout LCP (s)",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "SELECT percentile(largestContentfulPaint, 75) FROM PageViewTiming WHERE pageUrl LIKE '%shopping%' SINCE 1 week AGO COMPARE WITH 1 WEEK AGO"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 7,
            "row": 6,
            "height": 2,
            "width": 2
          },
          "title": "Begin Checkout CLS (score)",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "SELECT percentile(cumulativeLayoutShift, 75) FROM PageViewTiming WHERE pageUrl LIKE '%shopping%' SINCE 1 week AGO COMPARE WITH 1 WEEK AGO"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 9,
            "row": 6,
            "height": 2,
            "width": 2
          },
          "title": "Begin Checkout FirstInputDelay (ms)",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "SELECT percentile(firstInputDelay, 75) FROM PageViewTiming WHERE pageUrl LIKE '%shopping%' SINCE 1 week AGO COMPARE WITH 1 WEEK AGO"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.markdown"
          },
          "layout": {
            "column": 1,
            "row": 8,
            "height": 2,
            "width": 2
          },
          "title": "",
          "rawConfiguration": {
            "text": "# 2. Validate Coupons\n## AJAX Request Performance\n"
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.line"
          },
          "layout": {
            "column": 3,
            "row": 8,
            "height": 2,
            "width": 4
          },
          "title": "Validate Coupon Response Time (ms)",
          "rawConfiguration": {
            "dataFormatters": [],
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "SELECT 2000 AS TargetMaximumResponseTime, average(newrelic.timeslice.value) * 1000 AS `ResponseTime` FROM Metric WHERE metricTimesliceName = 'Ajax/MethodPathRequest/GET/webportal.telco.nrdemo.com:80/Path/coupons/*/isvalid/ResponseTime' AND `entity.guid` = 'MTYwNjg2MnxCUk9XU0VSfEFQUExJQ0FUSU9OfDQzMTkyMzEx' SINCE 1 week AGO COMPARE WITH 1 week AGO TIMESERIES AUTO"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.line"
          },
          "layout": {
            "column": 7,
            "row": 8,
            "height": 2,
            "width": 4
          },
          "title": "Validate Coupon Success (%)",
          "rawConfiguration": {
            "dataFormatters": [],
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "FROM AjaxRequest SELECT 0.98 AS TargetMinumumSuccessRate,percentage(count(*), WHERE httpResponseCode >= 200 AND httpResponseCode <300) AS 'Successful' WHERE httpResponseCode >= 200 AND appName ='WebPortal' and pageUrl like '%shoppingcart%'  SINCE 1 week AGO COMPARE WITH 1 week AGO TIMESERIES AUTO"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.markdown"
          },
          "layout": {
            "column": 1,
            "row": 10,
            "height": 2,
            "width": 2
          },
          "title": "",
          "rawConfiguration": {
            "text": "# 3. Order Confirmed\n## Page Performance\n"
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 3,
            "row": 10,
            "height": 2,
            "width": 2
          },
          "title": "Order Confirmed TTFB",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "FROM PageView SELECT percentile(backendDuration, 75) AS 'TTFB' WHERE pageUrl LIKE '%checkout%' SINCE 1 WEEK AGO COMPARE WITH 1 WEEK AGO"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 5,
            "row": 10,
            "height": 2,
            "width": 2
          },
          "title": "Order Confirmed LCP (s)",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "SELECT percentile(largestContentfulPaint, 75) FROM PageViewTiming WHERE pageUrl LIKE '%checkout%' SINCE 1 week AGO COMPARE WITH 1 WEEK AGO"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 7,
            "row": 10,
            "height": 2,
            "width": 2
          },
          "title": "Order Confirmed CLS (score)",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "SELECT percentile(cumulativeLayoutShift, 75) FROM PageViewTiming WHERE pageUrl LIKE '%checkout%' SINCE 1 week AGO COMPARE WITH 1 WEEK AGO"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        },
        {
          "visualization": {
            "id": "viz.billboard"
          },
          "layout": {
            "column": 9,
            "row": 10,
            "height": 2,
            "width": 2
          },
          "title": "Order Confirmed FirstInputDelay (ms)",
          "rawConfiguration": {
            "dataFormatters": [],
            "nrqlQueries": [
              {
                "accountId": 1606862,
                "query": "SELECT percentile(firstInputDelay, 75) FROM PageViewTiming WHERE pageUrl LIKE '%checkout%' SINCE 1 week AGO COMPARE WITH 1 WEEK AGO"
              }
            ],
            "thresholds": []
          },
          "linkedEntityGuids": null
        }
      ]
    }
  ]
}